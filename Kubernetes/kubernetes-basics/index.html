
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Laurent Gil web site used to host tutorials">
      
      
      
      
        <link rel="canonical" href="https://angegar.github.io/Kubernetes/kubernetes-basics/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Kubernetes basic - The hard way - Tutorials</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
  



  
  



  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-10069210-6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kubernetes-basic-the-hard-way" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Tutorials" class="md-header__button md-logo" aria-label="Tutorials" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tutorials
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Kubernetes basic - The hard way
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        
<a href="https://github.dxc.com/lgil3/tutorials" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    tutorials
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Tutorials" class="md-nav__button md-logo" aria-label="Tutorials" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Tutorials
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.dxc.com/lgil3/tutorials" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    tutorials
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          DevOps
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DevOps" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          DevOps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/doc-as-code" class="md-nav__link">
        Documentation as code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Kubernetes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Kubernetes" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Kubernetes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes-overview/README.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="." class="md-nav__link">
        Basic usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes-wordpress" class="md-nav__link">
        Hands-on
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bluegreen" class="md-nav__link">
        Blue-green
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes-helm/" class="md-nav__link">
        Helm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes/" class="md-nav__link">
        Ecosystem
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cluster-administration/" class="md-nav__link">
        Cluster administration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../Conferences/" class="md-nav__link">
        Conferences
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-a-namespace" class="md-nav__link">
    Create a namespace
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-pod" class="md-nav__link">
    Create a pod
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-service" class="md-nav__link">
    Create a service
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#make-your-service-publicly-accessible" class="md-nav__link">
    Make your service publicly accessible
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-replicaset" class="md-nav__link">
    Create a replicaset
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-deployment" class="md-nav__link">
    Create a deployment
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-statefulset" class="md-nav__link">
    Create a statefulset
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingress" class="md-nav__link">
    Ingress
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#persistent-volume-claim" class="md-nav__link">
    Persistent volume claim
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="kubernetes-basic-the-hard-way">Kubernetes basic - The hard way<a class="headerlink" href="#kubernetes-basic-the-hard-way" title="Permanent link">&para;</a></h1>
<p>This training is intended to help developers to understand Kubernetes fundamentals. We will not use advanced tools such as Helm but instead we will do every step manually with kubectl and yaml manifests.</p>
<p>As a use case we will work on the deployment of the Atlassian Confluence application.</p>
<p>You will find all the Kubernetes manifest use in this course into the manifests folder.</p>
<h2 id="create-a-namespace">Create a namespace<a class="headerlink" href="#create-a-namespace" title="Permanent link">&para;</a></h2>
<p><em>In Kubernetes a namespace is used to isolate resources, in a multi-tenant environment it is wise to create one namespace per tenant.</em></p>
<p>Let's create a namespace for our application.</p>
<p><code>kubectl apply -f manifests/namespace.yaml</code></p>
<h2 id="create-a-pod">Create a pod<a class="headerlink" href="#create-a-pod" title="Permanent link">&para;</a></h2>
<p><em>A pod is composed of one or multiple containers acting together to provide a service. Each container inside a pod share the same node, the same IP and the same volumes.</em></p>
<p>Deploy our application pod in the demo namespace</p>
<p><code>kubectl apply -f manifests/pod.yaml --namespace demo</code></p>
<p>Verify the pods was correctly created </p>
<p><code>kubectl get pods --namespace demo</code></p>
<p>Open a tunnel to your pod</p>
<p><code>kubectl port-forward -n demo pod/confluence 8080:8090</code></p>
<p>Open your navigator and go to http://localhost:8080</p>
<p>After this first step you have a single pod hosting your application which is not accessible from internet. As the pod has an IP adresse your can access it from the cluster only (internally accessible).</p>
<h2 id="create-a-service">Create a service<a class="headerlink" href="#create-a-service" title="Permanent link">&para;</a></h2>
<p><em>A service is a way to abstract the underlayer pods. There are several kind of services, ClusterIP(the default one), LoadBalancer, NodePort and ExternalName. A service act as a load balancer between pods of the same nature.</em></p>
<p>Deploy our service in the demo namespace</p>
<p><code>kubectl apply -f manifests/service.yaml --namespace demo</code></p>
<p>Verify that your service route the trafic to your pod </p>
<p><code>kubectl port-forward -n demo svc/confluence-svc 8080:8090</code></p>
<p>Go to http://localhost:8080</p>
<p>Describe your service and verify the target endpoint</p>
<p><code>kubectl describe svc confluence-svc -n demo</code></p>
<p>Deploy another confluence pods</p>
<p><code>kubectl apply -f manifests/pod-1.yaml --namespace demo</code></p>
<p>Describe your service and verify the target endpoints</p>
<p><code>kubectl describe svc confluence-svc -n demo</code></p>
<p><strong>Note: You will see 2 IPs adresses matching the 2 pods created</strong></p>
<p>Is your service publicly accessible :</p>
<p><code>kubectl get svc confluence-svc -n demo</code></p>
<p><strong>Note: the external IP is empty, this is because a sevice of type ClusterIP is not internet facing.</strong></p>
<h2 id="make-your-service-publicly-accessible">Make your service publicly accessible<a class="headerlink" href="#make-your-service-publicly-accessible" title="Permanent link">&para;</a></h2>
<p>List aws loadbalancers</p>
<p><code>aws elbv2 describe-load-balancers</code></p>
<p>Change the service type to LoadBalancer and apply your changes</p>
<p><code>kubectl apply -f manifests/service.yaml --namespace demo</code></p>
<p>Get the service external IP</p>
<p><code>kubectl get svc confluence-svc -n demo</code></p>
<p>Your service is now associated with and external ip (fqdn) matching an AWS classic load balancer created by kubernetes. </p>
<p>Get your public url and navigate to the url</p>
<p><code>echo "http://$(kubectl get svc confluence-svc -n demo -o jsonpath='{.status.loadBalancer.ingress[0].hostname}'):8090"</code></p>
<p>Your application is now accessible from internet through an AWS Classic Load Balancer.</p>
<h2 id="create-a-replicaset">Create a replicaset<a class="headerlink" href="#create-a-replicaset" title="Permanent link">&para;</a></h2>
<p>*A replicaset is used to manage the number of pods. If you want to scale you modify the replicaset configuration to increase the number of replica, then you will new pods spun-up.</p>
<p><code>kubectl apply -f manifests/replicaset.yaml -n demo</code></p>
<p>A replicaset acquires all the pods with specific labels, even if it did not create those pods.</p>
<p>Try the command below and observe the pods in the demo namespace</p>
<p><code>kubectl apply -f manifests/pod.yaml --namespace demo</code></p>
<p>The pod is automatically shutdowned by the replicaset as we specified only 1 replica.</p>
<p><strong>Note: Replicaset is a good way to create a canary deployment</strong></p>
<h2 id="create-a-deployment">Create a deployment<a class="headerlink" href="#create-a-deployment" title="Permanent link">&para;</a></h2>
<p><em>A deployment is a Kubernetes object used to manage pods. It creates and manages a replicaset which is used to configure the number of replica and all the deployment aspects of a pod. This is the default way to deploy stateless applications.</em></p>
<p><code>kubectl apply -f manifests/deployment.yaml --namespace demo</code></p>
<p>Verify if it was created</p>
<p><code>kubectl get deployment --namespace demo</code></p>
<p>List the replicaset inside the namespace</p>
<p><code>kubectl get replicaset -n demo</code></p>
<p>The deployment created a replicaset. Now, there are 2 replicasets managing the same pods, thus we may see inconsistencies.</p>
<p>Delete the first replicaset created</p>
<p><code>kubectl delete replicaset confluence-replicaset -n demo</code></p>
<h2 id="create-a-statefulset">Create a statefulset<a class="headerlink" href="#create-a-statefulset" title="Permanent link">&para;</a></h2>
<p><em>A statefulset is a Kubernetes object used to manage pods. It has its own control plain to manage the number of replica. It is mainly used to manage stateful applications.</em></p>
<p>Deploy your application with a statefulset</p>
<p><code>kubectl apply -f manifests/statefulset.yaml --namespace demo</code></p>
<p>Check the status</p>
<p><code>kubectl describe statefulset confluence --namespace demo</code></p>
<p>Check the pods</p>
<p><code>kubectl get pods --namespace demo</code></p>
<p><strong>Note: It is interesting to see that the statefulset counts only the pods it creates. This is because it has its own control plain.</strong></p>
<p>During the deployment we requested for persistent storage.</p>
<p>List the persistent volume claim</p>
<p><code>kubectl get persistentvolumeclaim --namespace demo</code></p>
<p>Look for the storage in AWS</p>
<p><code>aws ec2 describe-volumes --filter Name=tag:kubernetes.io/created-for/pvc/namespace,Values=demo --query "Volumes[*].{ID:VolumeId}</code></p>
<p>Delete the statefulset</p>
<p><code>kubectl delete statefulset confluence --namespace demo</code></p>
<p><code>aws ec2 describe-volumes --filter Name=tag:kubernetes.io/created-for/pvc/namespace,Values=demo --query "Volumes[*].{ID:VolumeId}"</code></p>
<p>The disk are still there.</p>
<p><strong>Note: PersistentVolume Claims are not deleted when the Pods, or StatefulSet are deleted. This must be done manually.</strong></p>
<p>Deploy again the statefulset</p>
<p><code>kubectl apply -f manifests/statefulset.yaml --namespace demo</code></p>
<p>The new pods should be attached to the previously created volumes</p>
<h2 id="ingress">Ingress<a class="headerlink" href="#ingress" title="Permanent link">&para;</a></h2>
<p>Create the ingress</p>
<p><code>kubectl apply -f manifests/ingress.yaml</code></p>
<p>Try to access http://confluence-demo.platformdxc-mg-d0.com</p>
<h2 id="persistent-volume-claim">Persistent volume claim<a class="headerlink" href="#persistent-volume-claim" title="Permanent link">&para;</a></h2>
<p>As the default pod storage type (emptyDir) is epheral we may need to create permanent disk with the persistent volume claim;</p>
<h1 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h1>
<p>https://kubernetes.io/fr/docs/reference/kubectl/</p>
<p>https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.15</p>
<p>https://confluence.atlassian.com/confkb/how-to-generate-a-new-confluence-cfg-xml-425461512.html?_ga=2.16139198.924632318.1562615698-1640495167.1558622810</p>
<p>https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/</p>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 16, 2021</span>
      
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>